package test;

import java.net.ServerSocket;
import java.net.Socket;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;

public class testSocket2 extends Thread {

	ServerSocket ss;
	InputStream is;
	OutputStream os;

	public testSocket2(ServerSocket ss) {
		this.ss = ss;
		Socket s;
		try {
			s = ss.accept();
			is = s.getInputStream();
			os = s.getOutputStream();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}

	public void run() {
		byte[] data = new byte[2];
		int read = 0;
		while (read < 2) {
			try {
				int n = is.read(data, read, 2 - read);
				if (n == -1) {
					throw new IOException();
				}
				read += n;
			} catch (IOException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}

		}
		System.out.println(data);
	}
}
